
                <html><style>body { overflow:hidden;}
            h1 { font-family: Arial, sans-serif; font-size: 24px; color: #44a; }
            p { margin:0; padding-top:5px; }
            br  { margin:0; padding:0; }
            .line { margin: 0 5px 0 0; padding-right: 5px; color:#999; background-color:#eef;  }
            comment { color: #080;} module { color: #804;}
            .listing { margin: 10px; border: 1px solid #ccc; 
                    font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier, monospace;
                    font-size: 14px; line-height: 1.2em; 
                    overflow:scroll;
                    height:90%;
            }
            code { padding: 5px 0;}</style></html><body>
                <h1>src/Menu.spec.ts</h1>
                <div class='listing'><code><span id=1 class="line">&nbsp;&nbsp;&nbsp;1</span>import&nbsp;{o,&nbsp;m}&nbsp;from&nbsp;'hslayout';<br>
<span id=2 class="line">&nbsp;&nbsp;&nbsp;2</span><br>
<span id=3 class="line">&nbsp;&nbsp;&nbsp;3</span>import&nbsp;{&nbsp;Menu&nbsp;}&nbsp;from&nbsp;'./Menu';<br>
<span id=4 class="line">&nbsp;&nbsp;&nbsp;4</span><br>
<span id=5 class="line">&nbsp;&nbsp;&nbsp;5</span>const&nbsp;left&nbsp;&nbsp;=&nbsp;['0%',&nbsp;'25%',&nbsp;'50%',&nbsp;'75%'];<br>
<span id=6 class="line">&nbsp;&nbsp;&nbsp;6</span>const&nbsp;right&nbsp;=&nbsp;['75%',&nbsp;'50%',&nbsp;'25%',&nbsp;'0%'];<br>
<span id=7 class="line">&nbsp;&nbsp;&nbsp;7</span>const&nbsp;title&nbsp;=&nbsp;['1a',&nbsp;'2a',&nbsp;'3a',&nbsp;'4a'];<br>
<span id=8 class="line">&nbsp;&nbsp;&nbsp;8</span><br>
<span id=9 class="line">&nbsp;&nbsp;&nbsp;9</span>o.spec('hsMenu',&nbsp;()&nbsp;=>&nbsp;{<br>
<span id=10 class="line">&nbsp;&nbsp;10</span>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;menu:any;<br>
<span id=11 class="line">&nbsp;&nbsp;11</span>&nbsp;&nbsp;&nbsp;&nbsp;o.before(()&nbsp;=>&nbsp;{<br>
<span id=12 class="line">&nbsp;&nbsp;12</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;md&nbsp;=&nbsp;{&nbsp;<br>
<span id=13 class="line">&nbsp;&nbsp;13</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items:&nbsp;title,<br>
<span id=14 class="line">&nbsp;&nbsp;14</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changed:&nbsp;(item:string)&nbsp;=>&nbsp;{&nbsp;console.log('selected');&nbsp;}<br>
<span id=15 class="line">&nbsp;&nbsp;15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>
<span id=16 class="line">&nbsp;&nbsp;16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.mount(o.root,&nbsp;{view:&nbsp;()&nbsp;=>&nbsp;m(Menu,&nbsp;{&nbsp;desc:&nbsp;md&nbsp;})&nbsp;});&nbsp;<br>
<span id=17 class="line">&nbsp;&nbsp;17</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menu&nbsp;=&nbsp;o.root.childNodes[0];&nbsp;//&nbsp;class:&nbsp;hs-menu<br>
<span id=18 class="line">&nbsp;&nbsp;18</span>&nbsp;&nbsp;&nbsp;&nbsp;});<br>
<span id=19 class="line">&nbsp;&nbsp;19</span><br>
<span id=20 class="line">&nbsp;&nbsp;20</span>&nbsp;&nbsp;&nbsp;&nbsp;o('Menu',&nbsp;()&nbsp;=>&nbsp;{<br>
<span id=21 class="line">&nbsp;&nbsp;21</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(menu).notEquals(undefined)('creation');<br>
<span id=22 class="line">&nbsp;&nbsp;22</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(menu.className.indexOf('hs-menu')).notEquals(-1)("is&nbsp;menu");<br>
<span id=23 class="line">&nbsp;&nbsp;23</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(menu.className.indexOf('hs-layout')).equals(-1)("is&nbsp;not&nbsp;a&nbsp;layout");<br>
<span id=24 class="line">&nbsp;&nbsp;24</span>&nbsp;&nbsp;&nbsp;&nbsp;});<br>
<span id=25 class="line">&nbsp;&nbsp;25</span><br>
<span id=26 class="line">&nbsp;&nbsp;26</span>&nbsp;&nbsp;&nbsp;&nbsp;o('Menu&nbsp;Items',&nbsp;()&nbsp;=>&nbsp;{<br>
<span id=27 class="line">&nbsp;&nbsp;27</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;layout&nbsp;=&nbsp;menu.childNodes[0];<br>
<span id=28 class="line">&nbsp;&nbsp;28</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;cn&nbsp;=&nbsp;layout.childNodes;<br>
<span id=29 class="line">&nbsp;&nbsp;29</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(cn.length).equals(4)("has&nbsp;4&nbsp;menu&nbsp;items");<br>
<span id=30 class="line">&nbsp;&nbsp;30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cn.forEach((c:any,&nbsp;i:any)&nbsp;=>&nbsp;{<br>
<span id=31 class="line">&nbsp;&nbsp;31</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;item&nbsp;=&nbsp;c.childNodes[0];<br>
<span id=32 class="line">&nbsp;&nbsp;32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(c.className.indexOf('hs-layout')).equals(0)(`item&nbsp;${i+1}&nbsp;layout&nbsp;has&nbsp;class&nbsp;hs-layout`);<br>
<span id=33 class="line">&nbsp;&nbsp;33</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(c.childNodes.length).equals(1)(`item&nbsp;${i+1}&nbsp;layout&nbsp;has&nbsp;1&nbsp;child`);<br>
<span id=34 class="line">&nbsp;&nbsp;34</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(c.style.left).equals(left[i])(`item&nbsp;${i+1}&nbsp;layout&nbsp;left&nbsp;is&nbsp;${left[i]}`);<br>
<span id=35 class="line">&nbsp;&nbsp;35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(c.style.right).equals(right[i])(`item&nbsp;${i+1}&nbsp;layout&nbsp;right&nbsp;is&nbsp;${right[i]}`);<br>
<span id=36 class="line">&nbsp;&nbsp;36</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(c.style.top).equals('0%')(`iitem&nbsp;${i+1}&nbsp;layout&nbsp;top&nbsp;is&nbsp;0%`);<br>
<span id=37 class="line">&nbsp;&nbsp;37</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(c.style.bottom).equals('0%')(`item&nbsp;${i+1}&nbsp;layout&nbsp;bottom&nbsp;i8s&nbsp;0%`);<br>
<span id=38 class="line">&nbsp;&nbsp;38</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(item.className.indexOf('hs-selectable')).notEquals(-1)(`item&nbsp;${i+1}&nbsp;has&nbsp;class&nbsp;hs-selectable`);<br>
<span id=39 class="line">&nbsp;&nbsp;39</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(item.className.includes('hs-selected')).equals((i===0)?true:false)(`item&nbsp;${i+1}&nbsp;selected&nbsp;class`);<br>
<span id=40 class="line">&nbsp;&nbsp;40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(item.childNodes.length).equals(1)(`item&nbsp;${i+1}&nbsp;has&nbsp;1&nbsp;child`);<br>
<span id=41 class="line">&nbsp;&nbsp;41</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o(item.childNodes[0].nodeValue).equals(title[i])(`item&nbsp;${i+1}&nbsp;child&nbsp;leaf&nbsp;text&nbsp;${title[i]}`);<br>
<span id=42 class="line">&nbsp;&nbsp;42</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>
<span id=43 class="line">&nbsp;&nbsp;43</span>&nbsp;&nbsp;&nbsp;&nbsp;});<br>
<span id=44 class="line">&nbsp;&nbsp;44</span><br>
<span id=45 class="line">&nbsp;&nbsp;45</span>});<br>
<span id=46 class="line">&nbsp;&nbsp;46</span><br>
<span id=47 class="line">&nbsp;&nbsp;47</span><br></code></div>
                </body>
            